import{_ as E,q as p,x as U,r as _,o as M,c as B,b as t,d,w as c,g as V,C as g,e as r,cQ as O,f as x,cR as h,b1 as T,bi as a,cS as m,cT as F,cU as u,cV as y,cW as S}from"./index-0220ec78.js";const z={class:"ai-mode-config"},K={class:"main-content"},N={class:"model-config-card"},P={class:"card-header"},D={class:"actions"},G={__name:"AIIntelligentModeConfig",setup(R){const I=T({props:["modelValue","type"],emits:["update:modelValue","test"],setup(e,{emit:l}){const n=p(!1),s=async()=>{n.value=!0;try{await l("test",e.modelValue)}finally{n.value=!1}};return()=>a(S,{model:e.modelValue,labelWidth:"120px"},()=>[a(m,{label:"æ¨¡å‹æä¾›å•†"},()=>a(F,{modelValue:e.modelValue.provider,"onUpdate:modelValue":o=>l("update:modelValue",{...e.modelValue,provider:o}),placeholder:"é€‰æ‹©æä¾›å•†",style:{width:"100%"}},()=>[a(u,{label:"OpenAI",value:"openai"}),a(u,{label:"Azure OpenAI",value:"azure_openai"}),a(u,{label:"Anthropic",value:"anthropic"}),a(u,{label:"Google Gemini",value:"google_gemini"}),a(u,{label:"DeepSeek",value:"deepseek"}),a(u,{label:"ç¡…åŸºæµåŠ¨ (SiliconFlow)",value:"siliconflow"}),a(u,{label:"å…¶ä»– (Other)",value:"other"})])),a(m,{label:"æ¨¡å‹åç§°"},()=>a(y,{modelValue:e.modelValue.model_name,"onUpdate:modelValue":o=>l("update:modelValue",{...e.modelValue,model_name:o}),placeholder:"ä¾‹å¦‚: gpt-4o, claude-3-5-sonnet"})),a(m,{label:"API Key"},()=>a(y,{modelValue:e.modelValue.api_key,"onUpdate:modelValue":o=>l("update:modelValue",{...e.modelValue,api_key:o}),type:"password",placeholder:"è¾“å…¥API Key"})),a(m,{label:"Base URL"},()=>a(y,{modelValue:e.modelValue.base_url,"onUpdate:modelValue":o=>l("update:modelValue",{...e.modelValue,base_url:o}),placeholder:"å¯é€‰ï¼Œä¾‹å¦‚: https://api.openai.com/v1"})),a(m,{},()=>a(h,{type:"success",plain:!0,loading:n.value,onClick:s},()=>"æµ‹è¯•è¿æ¥"))])}}),f=p(!1),b=p("text"),i=p({text_model:{provider:"openai",model_name:"gpt-4o",api_key:"",base_url:""}}),w=async()=>{try{const e=await g.get("/ui-automation/config/ai-mode/");e.data&&(i.value={...i.value,...e.data,text_model:{...i.value.text_model,...e.data.text_model||{}}})}catch(e){console.error("åŠ è½½é…ç½®å¤±è´¥:",e),r.error("åŠ è½½é…ç½®å¤±è´¥")}},A=async e=>{var l,n;if(!e.api_key){r.warning("è¯·å…ˆè¾“å…¥API Key");return}try{await g.post("/ui-automation/config/ai-mode/test_connection/",e),r.success("è¿æ¥æµ‹è¯•æˆåŠŸï¼")}catch(s){console.error("è¿æ¥æµ‹è¯•å¤±è´¥:",s);const o=((n=(l=s.response)==null?void 0:l.data)==null?void 0:n.error)||"è¿æ¥æµ‹è¯•å¤±è´¥";throw r.error(o),s}},C=async()=>{f.value=!0;try{await g.post("/ui-automation/config/ai-mode/",i.value),r.success("é…ç½®ä¿å­˜æˆåŠŸ")}catch(e){console.error("ä¿å­˜é…ç½®å¤±è´¥:",e),r.error("ä¿å­˜é…ç½®å¤±è´¥")}finally{f.value=!1}};return U(()=>{w()}),(e,l)=>{const n=_("el-icon"),s=_("el-tooltip"),o=_("el-tab-pane"),k=_("el-tabs");return M(),B("div",z,[l[5]||(l[5]=t("div",{class:"page-header"},[t("h1",null,"ğŸ§  AIæ™ºèƒ½æ¨¡å¼é…ç½®"),t("p",null,"é…ç½®Browser-useæ‰§è¡Œæ—¶çš„æ™ºèƒ½æ¨¡å¼ä¸æ¨¡å‹å‚æ•°")],-1)),t("div",K,[t("div",N,[t("div",P,[l[2]||(l[2]=t("h2",null,"æ¨¡å‹å‚æ•°é…ç½®",-1)),d(s,{content:"é…ç½®æ–‡æœ¬æ¨¡å¼ä½¿ç”¨çš„æ¨¡å‹å‚æ•°ã€‚",placement:"top"},{default:c(()=>[d(n,null,{default:c(()=>[d(V(O))]),_:1})]),_:1})]),d(k,{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=v=>b.value=v),type:"border-card"},{default:c(()=>[d(o,{label:"æ–‡æœ¬æ¨¡å¼æ¨¡å‹",name:"text"},{default:c(()=>[l[3]||(l[3]=t("div",{class:"tab-desc"},[t("span",{class:"icon"},"ğŸ“"),x(" æ–‡æœ¬æ¨¡å¼ï¼šåŸºäºDOMæ ‘è§£æï¼Œå¿«é€Ÿé«˜æ•ˆï¼Œé€‚åˆç»“æ„åŒ–é¡µé¢ã€‚ ")],-1)),d(V(I),{modelValue:i.value.text_model,"onUpdate:modelValue":l[0]||(l[0]=v=>i.value.text_model=v),type:"text",onTest:A},null,8,["modelValue"])]),_:1,__:[3]})]),_:1},8,["modelValue"]),t("div",D,[d(V(h),{type:"primary",size:"large",onClick:C,loading:f.value},{default:c(()=>l[4]||(l[4]=[x("ä¿å­˜æ‰€æœ‰é…ç½®",-1)])),_:1,__:[4]},8,["loading"])])])])])}}},q=E(G,[["__scopeId","data-v-d5fe44fe"]]);export{q as default};
