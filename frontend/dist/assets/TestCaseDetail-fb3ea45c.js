import{_ as k,Q as D,u as w,q as H,x as B,r as p,o as c,c as u,b as d,d as a,w as t,B as L,C as $,e as N,f as o,t as i,G as V,F as Y,y as I,J as R,R as S}from"./index-0220ec78.js";const j={class:"page-container"},z={class:"page-header"},E={key:0,class:"card-container"},F={key:0,class:"version-tags"},P={key:1,class:"no-version"},q=["innerHTML"],A=["innerHTML"],G={__name:"TestCaseDetail",setup(J){const v=D(),m=w(),e=H(null),y=async()=>{try{const s=await $.get(`/testcases/${v.params.id}/`);e.value=s.data}catch{N.error("获取用例详情失败")}},g=()=>{m.push(`/ai-generation/testcases/${v.params.id}/edit`)},b=s=>({low:"低",medium:"中",high:"高",critical:"紧急"})[s]||s,x=s=>({draft:"info",active:"success",deprecated:"warning"})[s]||"info",M=s=>({draft:"草稿",active:"激活",deprecated:"废弃"})[s]||s,T=s=>({functional:"功能测试",integration:"集成测试",api:"API测试",ui:"UI测试",performance:"性能测试",security:"安全测试"})[s]||"-",C=s=>S(s).format("YYYY-MM-DD HH:mm");return B(()=>{y()}),(s,n)=>{const f=p("el-button"),l=p("el-descriptions-item"),_=p("el-tag"),h=p("el-descriptions");return c(),u("div",j,[d("div",z,[n[3]||(n[3]=d("h1",{class:"page-title"},"用例详情",-1)),d("div",null,[a(f,{onClick:n[0]||(n[0]=r=>s.$router.back())},{default:t(()=>n[1]||(n[1]=[o("返回",-1)])),_:1,__:[1]}),a(f,{type:"primary",onClick:g},{default:t(()=>n[2]||(n[2]=[o("编辑",-1)])),_:1,__:[2]})])]),e.value?(c(),u("div",E,[a(h,{column:2,border:""},{default:t(()=>[a(l,{label:"用例标题",span:2},{default:t(()=>[o(i(e.value.title),1)]),_:1}),a(l,{label:"优先级"},{default:t(()=>[a(_,{class:V(`priority-tag ${e.value.priority}`)},{default:t(()=>[o(i(b(e.value.priority)),1)]),_:1},8,["class"])]),_:1}),a(l,{label:"状态"},{default:t(()=>[a(_,{type:x(e.value.status)},{default:t(()=>[o(i(M(e.value.status)),1)]),_:1},8,["type"])]),_:1}),a(l,{label:"测试类型"},{default:t(()=>[o(i(T(e.value.test_type)),1)]),_:1}),a(l,{label:"归属项目"},{default:t(()=>{var r;return[o(i(((r=e.value.project)==null?void 0:r.name)||"未关联项目"),1)]}),_:1}),a(l,{label:"关联版本",span:2},{default:t(()=>[e.value.versions&&e.value.versions.length>0?(c(),u("div",F,[(c(!0),u(Y,null,I(e.value.versions,r=>(c(),R(_,{key:r.id,size:"small",type:r.is_baseline?"warning":"info",class:"version-tag"},{default:t(()=>[o(i(r.name),1)]),_:2},1032,["type"]))),128))])):(c(),u("span",P,"未关联版本"))]),_:1}),a(l,{label:"作者"},{default:t(()=>{var r;return[o(i((r=e.value.author)==null?void 0:r.username),1)]}),_:1}),a(l,{label:"创建时间",span:2},{default:t(()=>[o(i(C(e.value.created_at)),1)]),_:1}),a(l,{label:"用例描述",span:2},{default:t(()=>[o(i(e.value.description||"暂无描述"),1)]),_:1}),a(l,{label:"前置条件",span:2},{default:t(()=>[o(i(e.value.preconditions||"无"),1)]),_:1}),a(l,{label:"操作步骤",span:2},{default:t(()=>[d("div",{class:"steps-content",innerHTML:e.value.steps||"无"},null,8,q)]),_:1}),a(l,{label:"预期结果",span:2},{default:t(()=>[d("div",{innerHTML:e.value.expected_result||"无"},null,8,A)]),_:1})]),_:1})])):L("",!0)])}}},U=k(G,[["__scopeId","data-v-840c0d14"]]);export{U as default};
