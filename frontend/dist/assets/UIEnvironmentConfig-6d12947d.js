import{_ as U,q as _,x as D,r as w,o,c as a,b as s,d as i,w as d,t as l,B as k,F as C,y as B,C as E,e as m,g as M,ao as V,f as v}from"./index-0220ec78.js";const N={class:"ui-env-config"},S={class:"main-content"},$={class:"check-section"},z={key:0,class:"last-check"},F={key:0,class:"env-status-grid"},L={class:"os-info-card"},T={class:"os-name"},q={class:"browser-cards"},A={class:"browser-content"},P={class:"browser-icon"},j=["src","alt"],G={class:"browser-info"},H={class:"status-row"},J={class:"browser-cards"},K={class:"browser-content"},O={class:"browser-icon"},Q=["src","alt"],R={class:"browser-info"},W={class:"status-row"},X={key:0,class:"browser-actions"},Y={__name:"UIEnvironmentConfig",setup(Z){const g=_(!1),h=_(null),f=_(""),c=_(null),b=n=>({chrome:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_48x48.png",firefox:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_48x48.png",safari:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari_48x48.png",edge:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_48x48.png",chromium:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/chromium/chromium_48x48.png",webkit:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/webkit/webkit_48x48.png"})[n]||"",p=n=>n.charAt(0).toUpperCase()+n.slice(1),y=async()=>{g.value=!0;try{const n=await E.get("/ui-automation/config/environment/check_environment/");c.value=n.data,f.value=new Date().toLocaleString(),m.success("çŽ¯å¢ƒæ£€æµ‹å®Œæˆ")}catch(n){console.error("çŽ¯å¢ƒæ£€æµ‹å¤±è´¥:",n),m.error("çŽ¯å¢ƒæ£€æµ‹å¤±è´¥")}finally{g.value=!1}},I=async n=>{var t,u;h.value=n;try{await E.post("/ui-automation/config/environment/install_driver/",{browser:n}),m.success(`${p(n)} é©±åŠ¨å®‰è£…æˆåŠŸ`),await y()}catch(r){console.error("é©±åŠ¨å®‰è£…å¤±è´¥:",r),m.error(`é©±åŠ¨å®‰è£…å¤±è´¥: ${((u=(t=r.response)==null?void 0:t.data)==null?void 0:u.error)||r.message}`)}finally{h.value=null}};return D(()=>{y()}),(n,t)=>{const u=w("el-icon"),r=w("el-button"),x=w("el-tag");return o(),a("div",N,[t[5]||(t[5]=s("div",{class:"page-header"},[s("h1",null,"ðŸ–¥ï¸ UIè‡ªåŠ¨åŒ–çŽ¯å¢ƒé…ç½®"),s("p",null,"æ£€æµ‹å’Œç®¡ç†æµè§ˆå™¨é©±åŠ¨çŽ¯å¢ƒ")],-1)),s("div",S,[s("div",$,[i(r,{type:"primary",size:"large",onClick:y,loading:g.value},{default:d(()=>[i(u,null,{default:d(()=>[i(M(V))]),_:1}),t[0]||(t[0]=v(" æ£€æµ‹çŽ¯å¢ƒ ",-1))]),_:1,__:[0]},8,["loading"]),f.value?(o(),a("div",z," ä¸Šæ¬¡æ£€æµ‹æ—¶é—´: "+l(f.value),1)):k("",!0)]),c.value?(o(),a("div",F,[s("div",L,[t[1]||(t[1]=s("h3",null,"ðŸ–¥ï¸ æ“ä½œç³»ç»Ÿ",-1)),s("div",T,l(c.value.os),1)]),t[3]||(t[3]=s("div",{class:"section-title"},[s("h3",null,"ðŸŒ ç³»ç»Ÿæµè§ˆå™¨ (Seleniumæ”¯æŒ)")],-1)),s("div",q,[(o(!0),a(C,null,B(c.value.system_browsers,e=>(o(),a("div",{key:e.name,class:"browser-card"},[s("div",A,[s("div",P,[s("img",{src:b(e.name),alt:e.name},null,8,j)]),s("div",G,[s("h3",null,l(p(e.name)),1),s("div",H,[i(x,{type:e.installed?"success":"info",effect:"dark"},{default:d(()=>[v(l(e.installed?e.version||"å·²å®‰è£…":"æœªå®‰è£…"),1)]),_:2},1032,["type"])])])])]))),128))]),t[4]||(t[4]=s("div",{class:"section-title"},[s("h3",null,"ðŸŽ­ Playwright æµè§ˆå™¨")],-1)),s("div",J,[(o(!0),a(C,null,B(c.value.playwright_browsers,e=>(o(),a("div",{key:e.name,class:"browser-card"},[s("div",K,[s("div",O,[s("img",{src:b(e.name),alt:e.name},null,8,Q)]),s("div",R,[s("h3",null,l(p(e.name)),1),s("div",W,[i(x,{type:e.installed?"success":"warning",effect:"dark"},{default:d(()=>[v(l(e.installed?e.version||"å·²å®‰è£…":"æœªå®‰è£…"),1)]),_:2},1032,["type"])])]),e.installed?k("",!0):(o(),a("div",X,[i(r,{type:"primary",size:"small",onClick:ss=>I(e.name),loading:h.value===e.name},{default:d(()=>t[2]||(t[2]=[v(" ä¸€é”®å®‰è£… ",-1)])),_:2,__:[2]},1032,["onClick","loading"])]))])]))),128))])])):k("",!0)])])}}},ts=U(Y,[["__scopeId","data-v-45f726fb"]]);export{ts as default};
